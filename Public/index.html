<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doc-In-The-Box - AI Healthcare Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="components.css">
    <link rel="stylesheet" href="animations.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <span class="logo-icon">üè•</span>
                Doc-In-The-Box
            </div>
            <div class="nav-buttons">
                <button class="voice-toggle-btn" onclick="toggleGlobalVoice()" title="Toggle Voice Assistant">
                    <span class="voice-icon">üé§</span>
                </button>
            </div>
        </div>
    </nav>

    <div id="app-container">
        
        <!-- Login/Signup Page -->
        <div id="auth-page" class="page active">
            <div class="auth-container">
                <div class="auth-card">
                    <div class="auth-header">
                        <h1 class="auth-title">Welcome to Doc-In-The-Box</h1>
                        <p class="auth-subtitle">AI-powered healthcare platform for everyone</p>
                    </div>

                    <div class="auth-tabs">
                        <button class="auth-tab active" onclick="showAuthTab('login')">Login</button>
                        <button class="auth-tab" onclick="showAuthTab('signup')">Sign Up</button>
                    </div>

                    <div id="login-form" class="auth-form active">
                        <form onsubmit="handleLogin(event)">
                            <div class="form-group">
                                <label class="form-label">Email or Phone</label>
                                <input type="text" class="form-input" id="login-email" placeholder="Enter email or phone" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Password</label>
                                <input type="password" class="form-input" id="login-password" placeholder="Enter password" required>
                            </div>
                            <button type="submit" class="btn btn-primary btn-large">Login</button>
                        </form>
                    </div>

                    <div id="signup-form" class="auth-form">
                        <form onsubmit="handleSignup(event)">
                            <div class="form-group">
                                <label class="form-label">User Type</label>
                                <select class="form-select" id="signup-type" required>
                                    <option value="">Select user type</option>
                                    <option value="patient">Patient</option>
                                    <option value="doctor">Doctor</option>
                                    <option value="admin">Administrator</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Full Name</label>
                                <input type="text" class="form-input" id="signup-name" placeholder="Enter full name" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-input" id="signup-email" placeholder="Enter email" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Phone</label>
                                <input type="tel" class="form-input" id="signup-phone" placeholder="Enter phone number" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Password</label>
                                <input type="password" class="form-input" id="signup-password" placeholder="Enter password" required>
                            </div>
                            <button type="submit" class="btn btn-primary btn-large">Sign Up</button>
                        </form>
                    </div>

                    <div class="demo-credentials">
                        <h3>Demo Credentials</h3>
                        <div class="demo-cards">
                            <div class="demo-card" onclick="fillDemoCredentials('patient')">
                                <div class="demo-icon">üë§</div>
                                <h4>Patient Demo</h4>
                                <p>patient@demo.com</p>
                                <p>demo123</p>
                            </div>
                            <div class="demo-card" onclick="fillDemoCredentials('doctor')">
                                <div class="demo-icon">üë®‚Äç‚öïÔ∏è</div>
                                <h4>Doctor Demo</h4>
                                <p>doctor@demo.com</p>
                                <p>demo123</p>
                            </div>
                            <div class="demo-card" onclick="fillDemoCredentials('admin')">
                                <div class="demo-icon">‚öôÔ∏è</div>
                                <h4>Admin Demo</h4>
                                <p>admin@demo.com</p>
                                <p>demo123</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="patient-dashboard" class="page">
            <div class="dashboard-header">
                <h1>Patient Dashboard</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="logout()">‚Üê Logout</button>
                    <div class="language-selector">
                        <select id="language-select" onchange="changeLanguage(this.value)">
                            <option value="en">English</option>
                            <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                            <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
                            <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="main-feature-card">
                    <div class="feature-header">
                        <h2>üîç AI Symptom Checker</h2>
                        <p>Describe your symptoms using voice or text in your preferred language</p>
                    </div>
                    
                    <div class="symptom-checker">
                        <div class="voice-input-section">
                            <button class="voice-record-btn" id="voice-record-btn" onclick="toggleVoiceRecording()">
                                <div class="voice-animation">
                                    <div class="voice-wave"></div>
                                    <div class="voice-wave"></div>
                                    <div class="voice-wave"></div>
                                </div>
                                <span class="voice-text">Click to Speak</span>
                            </button>
                            <div class="voice-feedback" id="voice-feedback">
                                <p>Voice recognition ready. Click the button and start speaking...</p>
                            </div>
                        </div>

                        <div class="text-input-section">
                            <textarea 
                                id="symptom-text" 
                                placeholder="Or type your symptoms here... (e.g., I have fever, headache, and body pain)"
                                rows="4"
                            ></textarea>
                            <button class="btn btn-primary" onclick="analyzeSymptoms()">
                                <span class="btn-icon">üß†</span>
                                Analyze Symptoms
                            </button>
                        </div>

                        <div class="analysis-results" id="analysis-results" style="display: none;">
                            <div class="results-header">
                                <h3>AI Analysis Results</h3>
                                <div class="urgency-indicator">
                                    <span class="urgency-label">Urgency Level:</span>
                                    <span class="urgency-badge" id="urgency-badge">Moderate</span>
                                </div>
                            </div>
                            <div class="diagnosis-card">
                                <h4>Possible Conditions:</h4>
                                <div class="condition-list" id="condition-list">
                                </div>
                            </div>
                            <div class="recommendations-card">
                                <h4>Recommendations:</h4>
                                <div class="recommendation-list" id="recommendation-list">
                                </div>
                            </div>
                            <div class="action-buttons">
                                <button class="btn btn-primary" onclick="bookAppointment()">Book Doctor Appointment</button>
                                <button class="btn btn-secondary" onclick="saveToHealthWallet()">Save to Health Wallet</button>
                                <button class="voice-read-btn" onclick="readResultsAloud()">üîä Read Results</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="quick-actions-grid">
                    <div class="action-card" onclick="showAppointmentBooking()">
                        <div class="action-icon">üìÖ</div>
                        <h3>Book Appointment</h3>
                        <p>Schedule consultation with verified doctors</p>
                    </div>
                    
                    <div class="action-card" onclick="showHealthWallet()">
                        <div class="action-icon">üìã</div>
                        <h3>Health Wallet</h3>
                        <p>View medical history and prescriptions</p>
                    </div>
                    
                    <div class="action-card" onclick="showEmergencyServices()">
                        <div class="action-icon">üö®</div>
                        <h3>Emergency</h3>
                        <p>Find nearby hospitals and emergency contacts</p>
                    </div>

                    <div class="action-card" onclick="uploadInvoice()">
                        <div class="action-icon">üìÑ</div>
                        <h3>Upload Invoice</h3>
                        <p>OCR scan and voice confirmation of medical bills</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Doctor Dashboard -->
        <div id="doctor-dashboard" class="page">
            <div class="dashboard-header">
                <h1>Doctor Portal</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="logout()">‚Üê Logout</button>
                    <div class="doctor-profile">
                        <img src="https://via.placeholder.com/40" alt="Doctor" class="profile-avatar">
                        <span id="doctor-name">Dr. Sarah Johnson</span>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <!-- Today's Schedule -->
                <div class="schedule-section">
                    <h2>üìÖ Today's Appointments</h2>
                    <div class="appointment-timeline">
                        <!-- Appointments will be loaded dynamically by doctor.js -->
                    </div>
                </div>

                <!-- AI Assistant Panel -->
                <div class="ai-assistant-panel">
                    <h2>üß† AI Medical Assistant</h2>
                    <div class="assistant-features">
                        <div class="feature-card">
                            <div class="feature-icon">üí°</div>
                            <h4>Real-time Suggestions</h4>
                            <p>Get AI-powered diagnostic suggestions during consultations</p>
                            <button class="btn btn-small btn-outline" onclick="doctorManager.toggleAIAssistant()">Enable Assistant</button>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">üíä</div>
                            <h4>Drug Interaction Checker</h4>
                            <p>Automatic checking for allergies and drug conflicts</p>
                            <button class="btn btn-small btn-outline" onclick="doctorManager.showDrugDatabase()">View Database</button>
                        </div>
                    </div>
                </div>

                <!-- Practice Analytics -->
                <div class="analytics-section">
                    <h2>üìä Practice Overview</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="stat-patients">127</div>
                            <div class="stat-label">Patients This Month</div>
                            <div class="stat-change positive">+12%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-earnings">‚Çπ45,680</div>
                            <div class="stat-label">Monthly Earnings</div>
                            <div class="stat-change positive">+8%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-rating">4.9</div>
                            <div class="stat-label">Average Rating</div>
                            <div class="stat-change stable">‚Üí</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-time">23 min</div>
                            <div class="stat-label">Avg. Consultation Time</div>
                            <div class="stat-change negative">-2 min</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="admin-dashboard" class="page">
            <div class="dashboard-header">
                <h1>System Administration</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="logout()">‚Üê Logout</button>
                    <div class="admin-controls">
                        <button class="btn btn-outline btn-small">System Health</button>
                        <button class="btn btn-danger btn-small">Emergency Alert</button>
                    </div>
                </div>
            </div>

            <div class="dashboard-content">
                <div class="monitoring-section">
                    <h2>üó∫Ô∏è Real-time Health Monitoring</h2>
                    <div class="monitoring-grid">
                        <div class="map-container">
                            <div class="map-placeholder">
                                <h3>Symptom Hotspot Map</h3>
                                <div class="hotspot-indicators">
                                    <div class="hotspot high-alert">
                                        <span class="location">Delhi NCR</span>
                                        <span class="symptom">Fever Cases: +23%</span>
                                    </div>
                                    <div class="hotspot medium-alert">
                                        <span class="location">Mumbai</span>
                                        <span class="symptom">Respiratory Issues: +12%</span>
                                    </div>
                                    <div class="hotspot low-alert">
                                        <span class="location">Bangalore</span>
                                        <span class="symptom">Headache Reports: +8%</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="alert-panel">
                            <h3>üö® Early Warning System</h3>
                            <div class="alert-list">
                                <div class="alert-item critical">
                                    <div class="alert-icon">üî¥</div>
                                    <div class="alert-content">
                                        <h4>Potential Outbreak Alert</h4>
                                        <p>Unusual spike in fever cases in East Delhi (43 cases in 24h)</p>
                                        <span class="alert-time">2 hours ago</span>
                                    </div>
                                </div>
                                
                                <div class="alert-item warning">
                                    <div class="alert-icon">üü°</div>
                                    <div class="alert-content">
                                        <h4>Seasonal Pattern Detected</h4>
                                        <p>Increased respiratory complaints correlating with air quality index</p>
                                        <span class="alert-time">6 hours ago</span>
                                    </div>
                                </div>

                                <div class="alert-item info">
                                    <div class="alert-icon">üîµ</div>
                                    <div class="alert-content">
                                        <h4>System Update</h4>
                                        <p>AI model accuracy improved by 3.2% after latest training</p>
                                        <span class="alert-time">1 day ago</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="user-management-section">
                    <h2>üë• User Management</h2>
                    <div class="management-tabs">
                        <button class="tab-btn active" onclick="showUserTab('doctors')">Doctors</button>
                        <button class="tab-btn" onclick="showUserTab('patients')">Patients</button>
                        <button class="tab-btn" onclick="showUserTab('pending')">Pending Approvals</button>
                    </div>
                    
                    <div class="user-table-container">
                        <table class="user-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Specialization</th>
                                    <th>Status</th>
                                    <th>Patients</th>
                                    <th>Rating</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Dr. Sarah Johnson</td>
                                    <td>General Medicine</td>
                                    <td><span class="status-badge active">Active</span></td>
                                    <td>127</td>
                                    <td>4.9 ‚≠ê</td>
                                    <td>
                                        <button class="btn btn-small btn-outline">View</button>
                                        <button class="btn btn-small btn-secondary">Message</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Dr. Raj Kumar</td>
                                    <td>Cardiology</td>
                                    <td><span class="status-badge active">Active</span></td>
                                    <td>89</td>
                                    <td>4.7 ‚≠ê</td>
                                    <td>
                                        <button class="btn btn-small btn-outline">View</button>
                                        <button class="btn btn-small btn-secondary">Message</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="system-analytics">
                    <h2>üìà Platform Analytics</h2>
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h3>Daily Active Users</h3>
                            <div class="metric-value">12,847</div>
                            <div class="metric-change positive">+5.2%</div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3>Consultations Today</h3>
                            <div class="metric-value">1,234</div>
                            <div class="metric-change positive">+12.1%</div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3>AI Accuracy Rate</h3>
                            <div class="metric-value">94.7%</div>
                            <div class="metric-change positive">+0.3%</div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3>System Uptime</h3>
                            <div class="metric-value">99.9%</div>
                            <div class="metric-change stable">‚Üí</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="voice-assistant-indicator" class="voice-indicator" style="display: none;">
        <div class="voice-indicator-content">
            <div class="voice-animation-small">
                <div class="voice-wave-small"></div>
                <div class="voice-wave-small"></div>
                <div class="voice-wave-small"></div>
            </div>
            <span>Voice Assistant Active</span>
        </div>
    </div>

    <div id="modal-overlay" class="modal-overlay" style="display: none;" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3 id="modal-title">Modal Title</h3>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body" id="modal-body">
            </div>
        </div>
    </div>

    <script>
        // Authentication functions
        function showAuthTab(tab) {
            document.querySelectorAll('.auth-tab').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + '-form').classList.add('active');
        }

        function fillDemoCredentials(userType) {
            const credentials = {
                patient: { email: 'patient@demo.com', password: 'demo123' },
                doctor: { email: 'doctor@demo.com', password: 'demo123' },
                admin: { email: 'admin@demo.com', password: 'demo123' }
            };

            document.getElementById('login-email').value = credentials[userType].email;
            document.getElementById('login-password').value = credentials[userType].password;
            
            // Switch to login tab
            showAuthTab('login');
            document.querySelector('.auth-tab').click();
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Demo credential checking
            if (password === 'demo123') {
                if (email === 'patient@demo.com') {
                    navigateTo('patient-dashboard');
                } else if (email === 'doctor@demo.com') {
                    navigateTo('doctor-dashboard');
                } else if (email === 'admin@demo.com') {
                    navigateTo('admin-dashboard');
                } else {
                    alert('Invalid credentials. Please use demo credentials.');
                }
            } else {
                alert('Invalid credentials. Please use demo credentials.');
            }
        }

        function handleSignup(event) {
            event.preventDefault();
            alert('Sign up functionality would be implemented in a real application.');
        }

        function logout() {
            navigateTo('auth-page');
            // Clear form fields
            document.getElementById('login-email').value = '';
            document.getElementById('login-password').value = '';
        }

        function navigateTo(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

    </script>
    <script src="voice.js"></script>
    <script src="navigation.js"></script>
    <script src="patient.js"></script>
    <script src="doctor.js"></script>
    <script src="admin.js"></script>
    <script src="main.js"></script>
</body>
</html>